<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technology & Operations — Boet Materials Corp.</title>
<meta name="description" content="Explore Boet Materials' integrated mining technology — from open-pit extraction to processing, tailings management, and hybrid power infrastructure.">
<meta property="og:title" content="Technology & Operations — Boet Materials Corp.">
<meta property="og:description" content="Explore Boet Materials' integrated mining technology — from extraction to processing, tailings management, and power infrastructure.">
<meta property="og:type" content="website">
<meta property="og:image" content="boet-full-logo.png">
<meta name="twitter:card" content="summary_large_image">
<link rel="icon" type="image/png" href="boet-icon-logo.png">
<link rel="apple-touch-icon" href="boet-icon-logo.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<link rel="preconnect" href="https://unpkg.com">
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;900&family=JetBrains+Mono:wght@400;500;600;700&display=swap"></noscript>
<style>
/* ================================================================ */
/* CSS CUSTOM PROPERTIES                                              */
/* ================================================================ */
:root {
  --dark: #0c0a09;
  --dark-mid: #141210;
  --dark-deep: #080706;
  --dark-card: #1a1715;
  --cream: #f7f2ec;
  --gold: #CDAA88;
  --gold-hover: #d9bc9e;
  --accent: #9E1B32;
  --accent-hover: #B42240;
  --accent-deep: #7a1527;
  --white: #f2ede8;
  --text-dark: #f2ede8;
  --text-muted: #9a8e80;
  --text-label: #6b5f52;
  --border-light: rgba(255,255,255,0.06);
  --border-card: rgba(255,255,255,0.08);

  --neon: #C8FF00;

  --font-heading: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-body: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: 'JetBrains Mono', 'Courier New', monospace;

  --header-h: 80px;
  --ease-out: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ================================================================ */
/* RESET & BASE                                                      */
/* ================================================================ */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: auto; -webkit-text-size-adjust: 100%; }

body {
  font-family: var(--font-body);
  font-size: 17px;
  line-height: 1.7;
  color: #3d3830;
  background: var(--dark);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

img { max-width: 100%; height: auto; display: block; }
a { color: inherit; text-decoration: none; }
ul { list-style: none; }

/* ================================================================ */
/* TYPOGRAPHY                                                        */
/* ================================================================ */
h1, h2, h3, h4 {
  font-family: var(--font-heading);
  font-weight: 900;
  line-height: 1.08;
  color: var(--dark);
}
h1 { font-size: clamp(38px, 6vw, 72px); text-transform: uppercase; }
h2 { font-size: clamp(30px, 4.5vw, 52px); text-transform: uppercase; }
h3 { font-size: clamp(18px, 2vw, 24px); }

.eyebrow {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 3px;
  color: var(--accent);
  margin-bottom: 20px;
}

.section-label {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--accent);
}

/* ================================================================ */
/* BUTTONS                                                           */
/* ================================================================ */
.btn-primary {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1.5px;
  background: var(--accent);
  color: var(--white);
  padding: 15px 32px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.3s ease, transform 0.3s ease;
}
.btn-primary:hover {
  background: var(--accent-hover);
  transform: translateY(-2px);
}

.btn-outline {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1px;
  background: transparent;
  color: var(--white);
  padding: 15px 32px;
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 4px;
  cursor: pointer;
  transition: border-color 0.3s ease, background 0.3s ease, transform 0.3s ease;
  position: relative;
  overflow: hidden;
  z-index: 1;
}
.btn-outline::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--cream);
  transform: translateX(-101%);
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: -1;
}
.btn-outline:hover::before { transform: translateX(0); }
.btn-outline:hover {
  color: var(--accent);
  border-color: var(--cream);
  background: transparent;
}

/* ================================================================ */
/* HEADER                                                            */
/* ================================================================ */
.header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--header-h);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 48px;
  background: transparent;
  border-bottom: 1px solid transparent;
  transition: background 0.5s ease, border-color 0.5s ease;
}

.header.header-scrolled {
  background: rgba(12, 10, 9, 0.95);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid var(--border-card);
}

.header.header-cream {
  background: rgba(247, 242, 236, 0.95);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}
.header.header-cream .logo-img { filter: brightness(0) saturate(100%); }
.header.header-cream .desktop-nav a { color: #6b5f52; }
.header.header-cream .desktop-nav a:hover,
.header.header-cream .desktop-nav a.nav-active { color: var(--dark); }
.header.header-cream .hamburger span { background: var(--dark); }

.logo { display: flex; align-items: center; gap: 14px; z-index: 1001; }
.logo-img {
  height: 28px;
  width: auto;
  display: block;
  filter: brightness(0) invert(1);
  transition: filter 0.5s ease;
}
.header.header-scrolled .logo-img {
  filter: none;
}

/* Desktop nav */
.desktop-nav {
  display: flex;
  align-items: center;
  gap: 36px;
}
.desktop-nav a {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: rgba(255,255,255,0.8);
  transition: color 0.5s ease;
  position: relative;
}
.desktop-nav a:hover,
.desktop-nav a.nav-active { color: var(--white); }

/* Investors dropdown */
.nav-dropdown { position: relative; }
.nav-dropdown-trigger {
  display: flex;
  align-items: center;
  gap: 5px;
  cursor: pointer;
}
.nav-dropdown-trigger .chevron {
  font-size: 8px;
  transition: transform 0.3s ease;
}
.nav-dropdown:hover .chevron { transform: rotate(180deg); }
.nav-dropdown-menu {
  position: absolute;
  top: 100%; left: 50%;
  transform: translateX(-50%);
  padding-top: 12px;
  opacity: 0; visibility: hidden;
  transition: opacity 0.25s ease, visibility 0.25s ease;
}
.nav-dropdown:hover .nav-dropdown-menu { opacity: 1; visibility: visible; }
.nav-dropdown-menu-inner {
  background: var(--dark-card);
  border: 1px solid var(--border-card);
  border-radius: 6px;
  padding: 8px 0;
  min-width: 220px;
  box-shadow: 0 16px 48px rgba(0,0,0,0.4);
}
.nav-dropdown-menu a {
  display: block;
  padding: 10px 20px;
  font-size: 12px;
  color: var(--text-muted);
  white-space: nowrap;
}
.nav-dropdown-menu a:hover {
  color: var(--white);
  background: rgba(255,255,255,0.04);
}

/* Hamburger */
.hamburger {
  width: 32px; height: 22px;
  cursor: pointer;
  position: relative;
  z-index: 1001;
  display: none;
  background: none;
  border: none;
}
.hamburger span {
  display: block;
  width: 100%; height: 2px;
  background: var(--white);
  position: absolute; left: 0;
  transition: transform 0.4s cubic-bezier(0.77,0,0.18,1), opacity 0.3s ease;
}
.hamburger span:nth-child(1) { top: 4px; }
.hamburger span:nth-child(2) { bottom: 4px; }
.hamburger.open span:nth-child(1) { top: 50%; transform: translateY(-50%) rotate(45deg); }
.hamburger.open span:nth-child(2) { bottom: 50%; transform: translateY(50%) rotate(-45deg); }

@media (max-width: 1150px) {
  .desktop-nav { display: none; }
  .hamburger { display: block; }
  .header { padding: 0 24px; }
  .logo-img { height: auto; max-width: 240px; }
}
@media (max-width: 480px) {
  :root { --header-h: 64px; }
  .header { padding: 0 16px; }
  .logo-img { max-width: 180px; }
}

/* ================================================================ */
/* TICKER STRIP                                                      */
/* ================================================================ */
.page-content { position: relative; z-index: 1; }
.ticker-strip {
  position: fixed;
  top: var(--header-h);
  left: 0; right: 0;
  z-index: 999;
  background: transparent;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 32px;
  font-family: var(--font-mono);
  font-size: 11px;
  letter-spacing: 1px;
  transition: border-color 0.4s ease;
}
.ticker-strip.ticker-scrolled {
  border-bottom-color: var(--border-card);
}
.ticker-strip.ticker-cream {
  background: rgba(247, 242, 236, 0.92);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}
.ticker-strip .ticker-label { color: rgba(255,255,255,0.5); font-weight: 600; transition: color 0.5s ease; }
.ticker-strip .ticker-symbol { color: var(--accent); font-weight: 700; }
.ticker-strip .ticker-sep { color: rgba(255,255,255,0.15); margin: 0 4px; transition: color 0.5s ease; }
.ticker-strip .ticker-price { color: rgba(255,255,255,0.6); font-weight: 600; margin-left: 4px; transition: color 0.5s ease; }
.ticker-strip.ticker-cream .ticker-label { color: #6b5f52; }
.ticker-strip.ticker-cream .ticker-sep { color: rgba(0,0,0,0.15); }
.ticker-strip.ticker-cream .ticker-price { color: #5a5046; }

/* Ticker items stay on one line */
.ticker-strip > span { white-space: nowrap; }

/* Ticker responsive */
@media (max-width: 600px) {
  .ticker-strip { gap: 20px; padding: 0 16px; font-size: 10px; }
  .ticker-strip .ticker-label { display: none; }
}
@media (max-width: 380px) {
  .ticker-strip { gap: 12px; padding: 0 12px; }
  .ticker-strip .ticker-sep { display: none; }
}

/* ================================================================ */
/* NAV OVERLAY (MOBILE)                                              */
/* ================================================================ */
.nav-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  background: var(--dark);
  z-index: 999;
  display: flex;
  clip-path: inset(0 0 100% 0);
  overflow: hidden;
}
.nav-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('mining-pattern.webp');
  background-size: cover;
  background-position: center;
  opacity: 0.08;
  z-index: 0;
  pointer-events: none;
}
.nav-overlay::after {
  content: '';
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background: linear-gradient(
    115deg,
    transparent 0%,
    transparent 35%,
    rgba(205, 170, 136, 0.06) 42%,
    rgba(205, 170, 136, 0.12) 50%,
    rgba(205, 170, 136, 0.06) 58%,
    transparent 65%,
    transparent 100%
  );
  background-size: 250% 100%;
  animation: goldSweep 6s ease-in-out infinite;
}
@keyframes goldSweep {
  0%   { background-position: 150% 0; }
  100% { background-position: -50% 0; }
}
.nav-overlay-content {
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 120px 40px 60px;
  flex: 1;
  position: relative;
  z-index: 2;
}
.nav-links {
  display: flex;
  flex-direction: column;
  gap: 4px;
}
.nav-links a,
.nav-links .nav-sub-trigger {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: clamp(32px, 5vw, 48px);
  text-transform: uppercase;
  color: var(--white);
  opacity: 0;
  transform: translateX(-30px);
  transition: color 0.3s ease;
  line-height: 1.3;
  cursor: pointer;
}
.nav-links a:hover,
.nav-links .nav-sub-trigger:hover { color: var(--accent); }
.nav-sub-trigger {
  display: flex;
  align-items: center;
  gap: 12px;
}
.nav-sub-trigger .sub-chevron {
  font-size: 0.5em;
  transition: transform 0.35s ease;
  display: inline-block;
}
.nav-sub-trigger.open .sub-chevron { transform: rotate(180deg); }
.nav-sub-links {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  padding-left: 8px;
}
.nav-sub-links.open {
  max-height: 280px;
}
.nav-sub-links a {
  font-size: clamp(14px, 2.2vw, 18px) !important;
  font-weight: 600 !important;
  text-transform: none !important;
  color: var(--text-muted) !important;
  line-height: 1.6 !important;
  padding: 4px 0;
  letter-spacing: 0.5px;
  display: block;
  opacity: 1 !important;
  transform: none !important;
}
.nav-sub-links a:hover { color: var(--gold) !important; }

/* ================================================================ */
/* LOAD-IN OVERLAY                                                   */
/* ================================================================ */
.header { transform: translateY(-100%); }
.ticker-strip { transform: translateY(-100%); opacity: 0; }
.ticker-strip > span { opacity: 0; transform: translateY(6px); }

.load-overlay-bg {
  position: fixed;
  inset: 0;
  z-index: 9998;
  background: var(--dark);
}
.load-overlay-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('mining-pattern.webp') center / 1200px auto repeat;
  opacity: 0.1;
  pointer-events: none;
}
.load-overlay-text {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  user-select: none;
  transition: opacity 0.2s ease;
}
.load-overlay-text.fading { opacity: 0; }
.load-company-name {
  font-family: var(--font-heading);
  font-weight: 900;
  font-size: clamp(36px, 6vw, 76px);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  line-height: 1;
  color: var(--cream);
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.45s cubic-bezier(0.25,0.1,0.25,1), transform 0.45s cubic-bezier(0.25,0.1,0.25,1);
}
.load-company-name.visible { opacity: 1; transform: translateY(0); }
.load-accent-line {
  width: 28px;
  height: 2px;
  background: var(--accent);
  border-radius: 1px;
  margin: 16px auto 14px;
  transform: scaleX(0);
  transition: transform 0.3s cubic-bezier(0.25,0.1,0.25,1) 0.2s;
}
.load-accent-line.visible { transform: scaleX(1); }
.load-page-label {
  font-family: var(--font-mono);
  font-size: clamp(10px, 1vw, 12px);
  letter-spacing: 0.3em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.45);
  opacity: 0;
  transition: opacity 0.3s ease 0.25s;
}
.load-page-label.visible { opacity: 1; }
.load-block-container {
  position: fixed;
  inset: 0;
  z-index: 9999;
  overflow: hidden;
  pointer-events: none;
}
.load-grid-block {
  position: absolute;
  background: var(--dark);
  will-change: transform;
}

/* ================================================================ */
/* DEFER RENDERING OF OFF-SCREEN SECTIONS                            */
/* ================================================================ */
.cv-defer {
  content-visibility: auto;
  contain-intrinsic-size: auto 600px;
}

@media (prefers-reduced-motion: reduce) {
  .header { transform: none; }
  .ticker-strip { transform: none; opacity: 1; }
  .ticker-strip > span { opacity: 1; transform: none; }
  .load-overlay-text, .load-company-name, .load-accent-line,
  .load-page-label, .load-grid-block {
    transition-duration: 0.01ms !important;
  }
}

/* ================================================================ */
/* HERO — VIDEO BACKGROUND                                           */
/* ================================================================ */
.hero {
  position: relative;
  width: 100%;
  height: 100vh;
  min-height: 600px;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  padding: 0 60px 80px;
}
.hero-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: left bottom;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.8s ease;
}
.hero-video.vid-ready { opacity: 1; }
.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(12,10,9,0.3) 0%, rgba(12,10,9,0.15) 40%, rgba(12,10,9,0.6) 100%);
  pointer-events: none;
}
.hero-grain {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none;
  opacity: 0.5;
}
.hero-content {
  position: relative;
  z-index: 2;
  max-width: 700px;
}
.hero-content .eyebrow {
  color: var(--gold);
  opacity: 0;
  transform: translateY(20px);
}
.hero-content h1 {
  color: var(--white);
  margin-bottom: 20px;
  opacity: 0;
  transform: translateY(30px);
}
.hero-content .hero-sub {
  color: rgba(255,255,255,0.7);
  font-size: 18px;
  line-height: 1.7;
  max-width: 540px;
  margin-bottom: 32px;
  opacity: 0;
  transform: translateY(20px);
}
.hero-content .hero-ctas {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  opacity: 0;
  transform: translateY(20px);
}

@media (max-width: 768px) {
  .hero { align-items: center; padding: 0 24px 60px; min-height: 100svh; }
}

/* ================================================================ */
/* PROCESS STEPS — SCROLL-DRIVEN REVEAL                              */
/* ================================================================ */
.process-section {
  position: relative;
  background: var(--cream);
  padding: 120px 60px;
  overflow: hidden;
}
.process-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('mining-pattern.webp') center / 1200px auto repeat;
  opacity: 0.05;
  pointer-events: none;
}

.process-header {
  text-align: center;
  max-width: 600px;
  margin: 0 auto 80px;
  position: relative;
  z-index: 1;
}
.process-header h2 {
  margin-bottom: 16px;
}
.process-header p {
  font-size: 17px;
  color: #5a5046;
  line-height: 1.8;
}

/* Timeline layout */
.process-timeline {
  position: relative;
  max-width: 1100px;
  margin: 0 auto;
  z-index: 1;
}

/* Vertical line in center */
.process-timeline::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: rgba(0,0,0,0.08);
  transform: translateX(-50%);
}

.process-step {
  display: grid;
  grid-template-columns: 1fr 80px 1fr;
  gap: 0;
  align-items: center;
  margin-bottom: 100px;
  position: relative;
}
.process-step:last-child { margin-bottom: 0; }

/* Step number in the middle */
.step-marker {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: var(--cream);
  border: 2px solid rgba(0,0,0,0.1);
  margin: 0 auto;
  z-index: 2;
  position: relative;
  transition: border-color 0.5s ease, box-shadow 0.5s ease;
}
.step-marker span {
  font-family: var(--font-mono);
  font-weight: 700;
  font-size: 14px;
  color: var(--accent);
  letter-spacing: 1px;
}
.process-step.step-visible .step-marker {
  border-color: var(--accent);
  box-shadow: 0 0 0 6px rgba(158,27,50,0.1);
}

/* Content side */
.step-content {
  opacity: 0;
  transform: translateX(-40px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.process-step:nth-child(even) .step-content {
  transform: translateX(40px);
  grid-column: 3;
  grid-row: 1;
}
.process-step:nth-child(even) .step-image {
  grid-column: 1;
  grid-row: 1;
}
.process-step.step-visible .step-content {
  opacity: 1;
  transform: translateX(0);
}

.step-content .step-eyebrow {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 2.5px;
  color: var(--accent);
  margin-bottom: 10px;
}
.step-content h3 {
  font-size: clamp(22px, 2.5vw, 32px);
  font-weight: 900;
  text-transform: uppercase;
  margin-bottom: 14px;
}
.step-content p {
  font-size: 16px;
  color: #5a5046;
  line-height: 1.75;
  margin-bottom: 20px;
}

.step-stats {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
}
.step-stat {
  display: flex;
  align-items: center;
  gap: 8px;
}
.step-stat .stat-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--neon);
  flex-shrink: 0;
}
.step-stat .stat-text {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: #3d3830;
}

/* Image side */
.step-image {
  opacity: 0;
  transform: translateX(40px);
  transition: opacity 0.7s ease 0.15s, transform 0.7s ease 0.15s;
  overflow: hidden;
  border-radius: 12px;
}
.process-step:nth-child(even) .step-image {
  transform: translateX(-40px);
}
.process-step.step-visible .step-image {
  opacity: 1;
  transform: translateX(0);
}
.step-image img {
  width: 100%;
  height: 280px;
  object-fit: cover;
  border-radius: 12px;
  transition: transform 0.6s ease;
}
.step-image:hover img {
  transform: scale(1.03);
}

@media (max-width: 900px) {
  .process-section { padding: 80px 24px; }
  .process-step {
    grid-template-columns: 48px 1fr;
    gap: 20px;
  }
  .process-timeline::before { left: 24px; }
  .step-marker { width: 48px; height: 48px; }
  .step-content,
  .process-step:nth-child(even) .step-content {
    grid-column: 2;
    grid-row: auto;
    transform: translateY(20px);
  }
  .step-image,
  .process-step:nth-child(even) .step-image {
    grid-column: 2;
    grid-row: auto;
    transform: translateY(20px);
  }
  .process-step.step-visible .step-content,
  .process-step.step-visible .step-image {
    transform: translateY(0);
  }
}

/* ================================================================ */
/* SVG INTERACTIVE SECTION                                           */
/* ================================================================ */
.interactive-section {
  position: relative;
  padding: 120px 0 0;
  background: var(--cream);
  overflow: hidden;
}
.interactive-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle, #D8D5D0 1px, transparent 1px);
  background-size: 24px 24px;
  opacity: 0.6;
  pointer-events: none;
  z-index: 0;
}

.interactive-inner {
  position: relative;
  z-index: 1;
  max-width: 1440px;
  margin: 0 auto;
  padding: 0 60px;
}

.interactive-header {
  text-align: center;
  max-width: 600px;
  margin: 0 auto 60px;
}
.interactive-header h2 { margin-bottom: 16px; }
.interactive-header p {
  font-size: 16px;
  color: #5a5046;
  line-height: 1.75;
}

/* Layout: info panel + SVG */
.tech-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 40px;
  align-items: start;
  margin-bottom: 40px;
}

.tech-info-col {
  position: relative;
  display: grid;
  min-height: 400px;
}

.info-panel {
  grid-row: 1;
  grid-column: 1;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  background: rgba(255,255,255,0.7);
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 12px;
  padding: 36px 32px;
  backdrop-filter: blur(8px);
  opacity: 0;
  transform: translateY(16px);
  pointer-events: none;
  transition: opacity 0.5s var(--ease-out), transform 0.5s var(--ease-out);
  overflow-y: auto;
}
.info-panel[data-state="visible"] {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}
.info-panel .info-eyebrow {
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 2.5px;
  color: var(--accent);
  margin-bottom: 12px;
}
.info-panel h3 { margin-bottom: 14px; }
.info-panel .info-desc {
  font-size: 15px;
  color: #5a5046;
  line-height: 1.75;
  margin-bottom: 28px;
}
.info-stats {
  display: flex;
  flex-direction: column;
  gap: 12px;
  border-top: 1px solid rgba(0,0,0,0.08);
  padding-top: 20px;
}
.info-stat {
  display: flex;
  align-items: center;
  gap: 12px;
}
.stat-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--neon);
  flex-shrink: 0;
}
.stat-text {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: #3d3830;
}

/* Mobile popup close button (hidden on desktop) */
.popup-close {
  display: none;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: 12px;
  right: 12px;
  width: 32px;
  height: 32px;
  background: rgba(0,0,0,0.08);
  border: none;
  border-radius: 50%;
  cursor: pointer;
  z-index: 5;
  font-size: 18px;
  line-height: 1;
  color: #5a5046;
  transition: background 0.2s ease;
  padding: 0;
}
.popup-close:hover { background: rgba(0,0,0,0.15); }

/* SVG scene */
.tech-scene-wrapper {
  position: relative;
  width: 100%;
  border-radius: 16px;
  overflow: hidden;
  background: #2a2828;
  border: 1px solid rgba(255,255,255,0.08);
}
.tech-scene-wrapper img,
.tech-scene-wrapper svg { display: block; width: 100%; height: auto; }

/* Map feature shapes */
.map-feature {
  position: absolute;
  pointer-events: none;
  transition: opacity 0.4s ease;
}
.map-feature svg {
  width: 100%;
  height: 100%;
  overflow: visible;
}
.map-feature.active svg polygon,
.map-feature.active svg rect,
.map-feature.active svg ellipse,
.map-feature.active svg path,
.map-feature.active svg circle {
  stroke: rgba(205,170,136,0.8);
  fill: rgba(205,170,136,0.1);
}

/* Hotspot buttons */
.hotspot {
  position: absolute;
  width: 44px; height: 44px;
  border-radius: 50%;
  background: rgba(255,255,255,0.92);
  border: 2px solid #D8D5D0;
  box-shadow: 0 2px 16px rgba(0,0,0,0.08);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10;
  transform: translate(-50%, -50%);
  transition: all 0.35s ease;
  outline: none;
}
.hotspot::before {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  border: 2px solid transparent;
  transition: border-color 0.35s ease;
}
.hotspot:hover {
  border-color: var(--neon);
  box-shadow: 0 0 0 4px rgba(200,255,0,0.15), 0 4px 20px rgba(0,0,0,0.12);
  transform: translate(-50%, -50%) scale(1.08);
}
.hotspot:hover::before { border-color: rgba(200,255,0,0.3); }
.hotspot.active {
  background: var(--neon);
  border-color: var(--neon);
  box-shadow: 0 0 0 6px rgba(200,255,0,0.2), 0 4px 24px rgba(200,255,0,0.3);
  transform: translate(-50%, -50%) scale(1.12);
}
.hotspot.active::before {
  border-color: rgba(200,255,0,0.4);
  animation: hotspotPulse 2s ease-in-out infinite;
}
@keyframes hotspotPulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.3); opacity: 0; }
}
.hotspot svg { width: 18px; height: 18px; fill: #666; transition: fill 0.3s ease; }
.hotspot.active svg { fill: #1a1a1a; }
.hotspot-label {
  position: absolute;
  bottom: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  font-family: var(--font-mono);
  font-size: 10px;
  font-weight: 600;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--dark);
  background: rgba(255,255,255,0.92);
  padding: 5px 10px;
  border-radius: 4px;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s ease;
  transform: translateX(-50%) translateY(4px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.hotspot:hover .hotspot-label,
.hotspot.active .hotspot-label {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* Bottom tabs */
.tech-tabs {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 14px;
  padding: 0 60px 80px;
  max-width: 1440px;
  margin: 0 auto;
  position: relative;
  z-index: 1;
}
.tech-tab {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 20px 24px;
  background: rgba(255,255,255,0.5);
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s ease;
  outline: none;
}
.tech-tab:hover {
  background: rgba(255,255,255,0.8);
  border-color: rgba(0,0,0,0.1);
}
.tech-tab.active {
  background: rgba(255,255,255,0.95);
  border-color: var(--neon);
  box-shadow: 0 0 0 3px rgba(200,255,0,0.12), 0 4px 16px rgba(0,0,0,0.06);
}
.tab-num {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  color: #b0a89e;
  transition: color 0.3s;
}
.tech-tab.active .tab-num { color: var(--accent); }
.tab-info { display: flex; flex-direction: column; gap: 2px; }
.tab-title {
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 14px;
  color: var(--dark);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.tab-sub {
  font-family: var(--font-mono);
  font-size: 10px;
  color: #9a8e80;
  letter-spacing: 0.5px;
}

/* SVG flow animations */
@keyframes flowDash {
  to { stroke-dashoffset: -24; }
}
.flow-accent {
  stroke-dasharray: 12 12;
  animation: flowDash 1.5s linear infinite;
}
.flow-accent-2 {
  stroke-dasharray: 8 16;
  animation: flowDash 2s linear infinite;
}

/* ================================================================ */
/* CTA SECTION                                                       */
/* ================================================================ */
.cta-section {
  padding: 120px 60px;
  background: var(--dark);
  text-align: center;
  position: relative;
  overflow: hidden;
}
.cta-section::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('mining-pattern.webp') center / 1200px auto repeat;
  opacity: 0.06;
  pointer-events: none;
}
.cta-section > * { position: relative; z-index: 1; }
.cta-section .eyebrow { color: var(--gold); margin-bottom: 24px; }
.cta-section h2 {
  color: var(--white);
  margin-bottom: 20px;
}
.cta-section .cta-sub {
  font-size: 17px;
  color: rgba(255,255,255,0.6);
  max-width: 520px;
  margin: 0 auto 40px;
  line-height: 1.8;
}
.cta-buttons {
  display: flex;
  gap: 16px;
  justify-content: center;
  flex-wrap: wrap;
}

/* ================================================================ */
/* FOOTER                                                            */
/* ================================================================ */
.footer {
  background: var(--dark-deep);
  padding: 60px;
  color: var(--text-muted);
  font-size: 13px;
  line-height: 1.7;
  border-top: 1px solid var(--border-card);
}
.footer-inner { max-width: 1200px; margin: 0 auto; }
.footer-top {
  display: flex;
  justify-content: space-between;
  margin-bottom: 48px;
  flex-wrap: wrap;
  gap: 40px;
}
.footer-brand .footer-logo-img { height: 24px; width: auto; margin-bottom: 8px; }
.footer-tickers {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--text-muted);
  letter-spacing: 1px;
}
.footer-tickers .ticker-symbol { color: var(--gold); font-weight: 600; }
.footer-nav { display: flex; gap: 24px; flex-wrap: wrap; }
.footer-nav a {
  font-family: var(--font-heading);
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: var(--text-muted);
  transition: color 0.3s;
}
.footer-nav a:hover { color: var(--white); }
.footer-bottom {
  border-top: 1px solid var(--border-card);
  padding-top: 32px;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 20px;
}
.footer-disclaimer {
  max-width: 750px;
  font-size: 11px;
  line-height: 1.8;
  color: rgba(255,255,255,0.3);
}
.footer-copy { color: rgba(255,255,255,0.3); font-size: 12px; }
.footer-credit {
  text-align: center;
  margin-top: 32px;
  font-size: 11px;
  color: rgba(255,255,255,0.2);
  letter-spacing: 1px;
}
.footer-credit a {
  color: var(--gold);
  font-weight: 600;
  transition: color 0.3s;
}
.footer-credit a:hover { color: var(--gold-hover); }

/* ================================================================ */
/* RESPONSIVE                                                        */
/* ================================================================ */
@media (max-width: 1100px) {
  .tech-layout { gap: 24px; }
  .tech-tabs { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px) {
  .interactive-inner { padding: 0 24px; }
  .tech-tabs { padding: 0 24px 60px; grid-template-columns: 1fr 1fr; z-index: 0; }
  .tech-tab { min-width: 0; }
  .interactive-header { padding: 0 24px; }
  .interactive-section { padding: 80px 0 0; }

  /* Map popup overlay on mobile — bottom-sheet style */
  .tech-layout {
    grid-template-columns: 1fr;
    position: relative;
  }
  .tech-scene-wrapper { order: 1; }
  .tech-info-col {
    display: block;
    position: fixed;
    inset: 0;
    z-index: 9999;
    min-height: 0;
    background: rgba(0,0,0,0.45);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }
  .tech-info-col.popup-active {
    opacity: 1;
    pointer-events: auto;
  }
  .tech-info-col .info-panel {
    position: absolute;
    top: auto;
    bottom: 0;
    left: 0;
    right: 0;
    width: auto;
    max-height: 55vh;
    background: #fff;
    border-radius: 20px 20px 0 0;
    padding: 32px 24px calc(28px + env(safe-area-inset-bottom, 0px));
    overflow-y: auto;
    box-shadow: 0 -8px 40px rgba(0,0,0,0.15);
    transform: translateY(100%);
    transition: opacity 0.35s ease, transform 0.35s cubic-bezier(0.32, 0.72, 0, 1);
  }
  .tech-info-col.popup-active .info-panel[data-state="visible"]:not(#panel-default) {
    transform: translateY(0);
  }
  .tech-info-col #panel-default {
    opacity: 0 !important;
    pointer-events: none !important;
  }
  .popup-close { display: flex; }
  .cta-section { padding: 80px 24px; }
  .footer { padding: 40px 24px; }
  .footer-top { flex-direction: column; }
  .footer-bottom { flex-direction: column; }
  .footer-brand .footer-logo-img { max-width: 200px; height: auto; }
}

/* ================================================================ */
/* WORD REVEAL                                                       */
/* ================================================================ */
.word-reveal {
  display: inline-block;
  overflow: hidden;
  vertical-align: top;
}
.word-reveal span {
  display: inline-block;
  transform: translateY(110%);
}
</style>
</head>
<body>

<!-- LOAD-IN OVERLAY -->
<div class="load-overlay-bg" id="loadOverlayBg"></div>
<div class="load-overlay-text" id="loadOverlayText">
  <div style="text-align:center; padding: 24px;">
    <div class="load-company-name" id="loadCompanyName">Boet Materials</div>
    <div class="load-accent-line" id="loadAccentLine"></div>
    <div class="load-page-label" id="loadPageLabel">Technology</div>
  </div>
</div>
<div class="load-block-container" id="loadBlockContainer" style="display:none;"></div>

<!-- ═══════════════════════════════════════════════════════ -->
<!-- HEADER                                                  -->
<!-- ═══════════════════════════════════════════════════════ -->
<header class="header" id="header">
  <a href="index.html" class="logo">
    <img src="boet-full-logo.png" alt="Boet Materials" class="logo-img">
  </a>

  <nav class="desktop-nav" id="desktop-nav">
    <a href="about.html">About</a>
    <a href="projects.html">Projects</a>
    <a href="technology.html" class="nav-active">Technology</a>
    <div class="nav-dropdown">
      <a href="investors.html" class="nav-dropdown-trigger">Investors <span class="chevron">&#9662;</span></a>
      <div class="nav-dropdown-menu">
        <div class="nav-dropdown-menu-inner">
          <a href="investors.html">Investor Overview</a>
          <a href="https://pitch-deck-demo.vercel.app/">Corporate Presentation</a>
          <a href="investors.html#news">News Releases</a>
        </div>
      </div>
    </div>
    <a href="contact.html">Contact</a>
  </nav>

  <button class="hamburger" id="hamburger" aria-label="Toggle menu">
    <span></span>
    <span></span>
  </button>
</header>

<!-- Ticker Strip -->
<div class="ticker-strip" id="ticker-strip">
  <span><span class="ticker-label">TSXV:</span> <span class="ticker-symbol">AUM</span> <span class="ticker-price">$3.42</span></span>
  <span class="ticker-sep">|</span>
  <span><span class="ticker-label">OTCQX:</span> <span class="ticker-symbol">AURMF</span> <span class="ticker-price">$2.46</span></span>
  <span class="ticker-sep">|</span>
  <span><span class="ticker-label">FSE:</span> <span class="ticker-symbol">9AUM</span> <span class="ticker-price">€2.28</span></span>
</div>

<!-- Mobile Nav Overlay -->
<nav class="nav-overlay" id="nav-overlay">
  <div class="nav-overlay-content">
    <ul class="nav-links" id="nav-links">
      <li><a href="about.html">About</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="technology.html">Technology</a></li>
      <li>
        <div class="nav-sub-trigger" id="investorsTrigger">Investors <span class="sub-chevron">&#9662;</span></div>
        <div class="nav-sub-links" id="investorsSubLinks">
          <a href="investors.html">Investor Overview</a>
          <a href="https://pitch-deck-demo.vercel.app/">Corporate Presentation</a>
          <a href="investors.html#news">News Releases</a>
        </div>
      </li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>
</nav>

<div class="page-content">

<!-- ═══════════════════════════════════════════════════════ -->
<!-- HERO — VIDEO                                            -->
<!-- ═══════════════════════════════════════════════════════ -->
<section class="hero" id="hero">
  <video class="hero-video" id="heroVideo" autoplay muted loop playsinline preload="metadata"></video>
  <div class="hero-overlay"></div>
  <div class="hero-grain"></div>
  <div class="hero-content" id="heroContent">
    <div class="eyebrow">Technology &amp; Operations</div>
    <h1 id="hero-h1">How We Mine</h1>
    <p class="hero-sub">An integrated, end-to-end mining operation engineered for maximum efficiency and minimal environmental impact.</p>
    <div class="hero-ctas">
      <a href="#process" class="btn-primary">Explore Process <span class="arrow">&rarr;</span></a>
      <a href="#interactive" class="btn-outline">Interactive Map <span class="arrow">&rarr;</span></a>
    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════ -->
<!-- PROCESS STEPS — SCROLL DRIVEN                           -->
<!-- ═══════════════════════════════════════════════════════ -->
<section class="process-section" id="process">
  <div class="process-header">
    <div class="eyebrow">Our Process</div>
    <h2>From Ground to Product</h2>
    <p>Four integrated stages take raw ore from the earth and transform it into market-ready critical minerals — responsibly and efficiently.</p>
  </div>

  <div class="process-timeline">
    <!-- Step 1 -->
    <div class="process-step" data-step="1">
      <div class="step-content">
        <div class="step-eyebrow">Phase 01</div>
        <h3>Extraction</h3>
        <p>Subsurface brine extraction with precision drilling and GPS-guided flow monitoring. We extract brine from carefully managed aquifers while maintaining well integrity and environmental controls.</p>
        <div class="step-stats">
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">20K t/yr LCE target</span></div>
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">Automated systems</span></div>
        </div>
      </div>
      <div class="step-marker"><span>01</span></div>
      <div class="step-image">
        <img srcset="photo-tech-1-mobile.jpg 600w, photo-tech-1-desktop.jpg 1200w" sizes="(max-width: 768px) 100vw, 50vw" src="photo-tech-1-desktop.jpg" alt="Open-pit mining extraction" loading="lazy">
      </div>
    </div>

    <!-- Step 2 -->
    <div class="process-step" data-step="2">
      <div class="step-image">
        <img srcset="photo-tech-2-mobile.jpg 600w, photo-tech-2-desktop.jpg 1200w" sizes="(max-width: 768px) 100vw, 50vw" src="photo-tech-2-desktop.jpg" alt="Ore processing plant" loading="lazy">
      </div>
      <div class="step-marker"><span>02</span></div>
      <div class="step-content">
        <div class="step-eyebrow">Phase 02</div>
        <h3>Processing</h3>
        <p>State-of-the-art sorbent-based direct lithium extraction (DLE) circuit with integrated polishing plant. Our process achieves industry-leading recovery rates while minimizing chemical usage.</p>
        <div class="step-stats">
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">92% recovery rate</span></div>
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">Sorbent + DLE circuit</span></div>
        </div>
      </div>
    </div>

    <!-- Step 3 -->
    <div class="process-step" data-step="3">
      <div class="step-content">
        <div class="step-eyebrow">Phase 03</div>
        <h3>Tailings Management</h3>
        <p>Dry-stack tailings storage facility using advanced filtered tailings technology. This approach eliminates conventional tailings dams, reducing water consumption and environmental risk.</p>
        <div class="step-stats">
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">Zero tailings dams</span></div>
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">85% water recovery</span></div>
        </div>
      </div>
      <div class="step-marker"><span>03</span></div>
      <div class="step-image">
        <img srcset="photo-tech-3-mobile.jpg 600w, photo-tech-3-desktop.jpg 1200w" sizes="(max-width: 768px) 100vw, 50vw" src="photo-tech-3-desktop.jpg" alt="Tailings management facility" loading="lazy">
      </div>
    </div>

    <!-- Step 4 -->
    <div class="process-step" data-step="4">
      <div class="step-image">
        <picture>
          <img srcset="photo-tech-1-mobile.jpg 600w, photo-tech-1-desktop.jpg 1200w" sizes="(max-width: 768px) 100vw, 50vw" src="photo-tech-1-desktop.jpg" alt="Power infrastructure and solar array" loading="lazy" style="filter: hue-rotate(30deg) brightness(1.05);">
        </picture>
      </div>
      <div class="step-marker"><span>04</span></div>
      <div class="step-content">
        <div class="step-eyebrow">Phase 04</div>
        <h3>Power Infrastructure</h3>
        <p>Hybrid power system combining grid connection with on-site solar array. Our 12-panel solar installation supplements grid power, reducing carbon intensity and operating costs.</p>
        <div class="step-stats">
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">Grid + Solar hybrid</span></div>
          <div class="step-stat"><div class="stat-dot"></div><span class="stat-text">30% renewable mix</span></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════ -->
<!-- INTERACTIVE SVG SECTION                                 -->
<!-- ═══════════════════════════════════════════════════════ -->
<section class="interactive-section cv-defer" id="interactive">
  <div class="interactive-inner">
    <div class="interactive-header">
      <div class="eyebrow">Operations</div>
      <h2>Explore Our Mine</h2>
      <p>Click on any hotspot or tab below to learn about each stage of our integrated mining and processing workflow.</p>
    </div>

    <div class="tech-layout">
      <!-- Left: Info Panels -->
      <div class="tech-info-col">
        <div class="info-panel" id="panel-default" data-state="visible">
          <div class="info-eyebrow">Operations</div>
          <h3>Explore Our Mine</h3>
          <p class="info-desc">Our fully integrated mining operation encompasses extraction, processing, tailings management, and power infrastructure — all engineered for maximum efficiency and minimal environmental impact.</p>
          <div class="info-stats">
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">4 Operational Stages</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">End-to-End Integration</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">92% LCE Recovery</span></div>
          </div>
        </div>

        <div class="info-panel" id="panel-extraction" data-state="hidden">
          <div class="info-eyebrow">01 — Extraction</div>
          <h3>Brine Extraction</h3>
          <p class="info-desc">Subsurface brine well field with precision drilling and automated flow monitoring. Production wells pump lithium-rich brine through insulated pipelines to the DLE facility.</p>
          <div class="info-stats">
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">20K t/yr LCE target</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">12 active wells</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Automated systems</span></div>
          </div>
        </div>

        <div class="info-panel" id="panel-processing" data-state="hidden">
          <div class="info-eyebrow">02 — Processing</div>
          <h3>Sorbent &amp; DLE Circuit</h3>
          <p class="info-desc">Raw brine enters a sorbent-based extraction circuit followed by lithium carbonate polishing stages. The thickener recycles process water while reagent systems maintain optimal chemistry.</p>
          <div class="info-stats">
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">92% Li recovery</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Sorbent columns</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Closed-loop water</span></div>
          </div>
        </div>

        <div class="info-panel" id="panel-tailings" data-state="hidden">
          <div class="info-eyebrow">03 — Tailings</div>
          <h3>Dry-Stack TSF</h3>
          <p class="info-desc">Filtered tailings are stacked in engineered cells with compacted lifts. No conventional tailings dam required — significantly reducing environmental risk and water consumption.</p>
          <div class="info-stats">
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Zero tailings dams</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">85% water recovery</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Progressive rehab</span></div>
          </div>
        </div>

        <div class="info-panel" id="panel-power" data-state="hidden">
          <div class="info-eyebrow">04 — Power</div>
          <h3>Grid + Solar Hybrid</h3>
          <p class="info-desc">On-site substation connects to the regional grid, supplemented by a 12-panel photovoltaic array. Dual supply ensures reliability while reducing carbon intensity.</p>
          <div class="info-stats">
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">Grid + PV hybrid</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">N+1 redundancy</span></div>
            <div class="info-stat"><div class="stat-dot"></div><span class="stat-text">30% renewable mix</span></div>
          </div>
        </div>
      </div>

      <!-- Right: SVG Scene -->
      <div class="tech-scene-wrapper" id="techScene">
        <img src="site-map.svg" alt="Mine site topographic map" loading="lazy" style="display:block; width:100%; height:auto;">
      </div>
    </div>
  </div>

  <!-- Bottom Tabs -->
  <div class="tech-tabs">
    <button class="tech-tab" data-target="extraction">
      <span class="tab-num">01</span>
      <div class="tab-info"><span class="tab-title">Extraction</span><span class="tab-sub">Brine Wells</span></div>
    </button>
    <button class="tech-tab" data-target="processing">
      <span class="tab-num">02</span>
      <div class="tab-info"><span class="tab-title">Processing</span><span class="tab-sub">Sorbent &amp; DLE</span></div>
    </button>
    <button class="tech-tab" data-target="tailings">
      <span class="tab-num">03</span>
      <div class="tab-info"><span class="tab-title">Tailings</span><span class="tab-sub">Dry-Stack TSF</span></div>
    </button>
    <button class="tech-tab" data-target="power">
      <span class="tab-num">04</span>
      <div class="tab-info"><span class="tab-title">Power</span><span class="tab-sub">Grid + Solar</span></div>
    </button>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════ -->
<!-- CTA                                                     -->
<!-- ═══════════════════════════════════════════════════════ -->
<section class="cta-section cv-defer">
  <div class="eyebrow">Get In Touch</div>
  <h2>Ready to Partner<br>With Us?</h2>
  <p class="cta-sub">Learn how Boet Materials Corp. is pioneering the future of responsible resource development and advancing the global energy transition.</p>
  <div class="cta-buttons">
    <a href="https://pitch-deck-demo.vercel.app/" class="btn-primary">Corporate Presentation <span class="arrow">&rarr;</span></a>
    <a href="contact.html" class="btn-outline">Contact Us <span class="arrow">&rarr;</span></a>
  </div>
</section>

<!-- ═══════════════════════════════════════════════════════ -->
<!-- FOOTER                                                  -->
<!-- ═══════════════════════════════════════════════════════ -->
<footer class="footer cv-defer">
  <div class="footer-inner">
    <div class="footer-top">
      <div class="footer-brand">
        <a href="index.html"><img src="boet-full-logo.png" alt="Boet Materials" class="footer-logo-img"></a>
        <div class="footer-tickers">
          <span class="ticker-symbol">TSXV: AUM</span> &nbsp;|&nbsp;
          <span class="ticker-symbol">OTCQX: AURMF</span> &nbsp;|&nbsp;
          <span class="ticker-symbol">FSE: 9AUM</span>
        </div>
      </div>
      <nav class="footer-nav">
        <a href="about.html">About</a>
        <a href="projects.html">Projects</a>
        <a href="technology.html">Technology</a>
        <a href="investors.html">Investors</a>
        <a href="contact.html">Contact</a>
      </nav>
    </div>
    <div class="footer-bottom">
      <div class="footer-disclaimer">
        This website contains forward-looking statements. All financial figures, projections, and technical details are subject to assumptions and risks described in the Corporate Presentation and public filings. See the Corporate Presentation for full disclosures, qualified person statements, and cautionary notes. Boet Materials Corp. is listed on the TSX Venture Exchange and has not been reviewed or approved by any securities regulator.
      </div>
      <div class="footer-copy">&copy; 2026 Boet Materials Corp.</div>
    </div>
    <div class="footer-credit">Website Created By <a href="https://www.thevisitor.ca/" target="_blank" rel="noopener">THE VISITOR</a></div>
  </div>
</footer>
</div><!-- /.page-content -->

<!-- ═══════════════════════════════════════════════════════ -->
<!-- SCRIPTS                                                 -->
<!-- ═══════════════════════════════════════════════════════ -->
<script src="https://unpkg.com/lenis@1.1.18/dist/lenis.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>
<script>
/* ═══════════════════════════════════════════════════════ */
/* LOAD-IN OVERLAY                                         */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var HOLD = 600, BLOCK_STAGGER = 12, BLOCK_DURATION = 400;
  var overlayBg     = document.getElementById('loadOverlayBg');
  var overlayText   = document.getElementById('loadOverlayText');
  var companyName   = document.getElementById('loadCompanyName');
  var accentLine    = document.getElementById('loadAccentLine');
  var pageLabel     = document.getElementById('loadPageLabel');
  var blockContainer= document.getElementById('loadBlockContainer');

  var navEntry = performance.getEntriesByType('navigation')[0];
  var navType = navEntry ? navEntry.type : '';
  var sameOriginReferrer = document.referrer && document.referrer.indexOf(window.location.origin) === 0;
  var isInternalNav = sameOriginReferrer && (navType === 'navigate' || navType === 'back_forward');

  function safeInitPageAnimations() {
    if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined' && typeof Lenis !== 'undefined') {
      initPageAnimations();
    } else {
      var id = setInterval(function() {
        if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined' && typeof Lenis !== 'undefined') {
          clearInterval(id);
          initPageAnimations();
        }
      }, 16);
    }
  }

  if (isInternalNav) {
    overlayText.style.display = 'none';
    overlayBg.style.display = 'none';
    safeInitPageAnimations();
    return;
  }

  document.body.style.overflow = 'hidden';

  function getColCount(w) {
    if (w < 640) return 8;
    if (w < 1024) return 12;
    return 16;
  }

  function buildBlocks() {
    var w = window.innerWidth;
    var h = window.innerHeight;
    var cols = getColCount(w);
    var blockW = Math.ceil(w / cols);
    var blockH = blockW;
    var rows = Math.ceil(h / blockH) + 1;
    blockContainer.innerHTML = '';
    var blocks = [];
    for (var r = 0; r < rows; r++) {
      for (var c = 0; c < cols; c++) {
        var div = document.createElement('div');
        div.className = 'load-grid-block';
        div.style.left   = (c * blockW) + 'px';
        div.style.top    = (r * blockH) + 'px';
        div.style.width  = (blockW + 1) + 'px';
        div.style.height = (blockH + 1) + 'px';
        div.style.transform  = 'translateY(0)';
        div.style.transition = 'none';
        blockContainer.appendChild(div);
        blocks.push({ el: div, r: r, c: c, delay: (r + c) * BLOCK_STAGGER });
      }
    }
    return { blocks: blocks, maxDelay: ((rows - 1) + (cols - 1)) * BLOCK_STAGGER, vh: h, blockH: blockH };
  }

  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    overlayText.style.transition = 'opacity 0.3s ease';
    setTimeout(function() {
      overlayText.style.opacity = '0';
      setTimeout(function() {
        overlayBg.style.display = 'none';
        overlayText.style.display = 'none';
        document.body.style.overflow = '';
        safeInitPageAnimations();
      }, 400);
    }, 300);
    return;
  }

  requestAnimationFrame(function() {
    companyName.classList.add('visible');
    accentLine.classList.add('visible');
    pageLabel.classList.add('visible');
  });

  setTimeout(function() {
    overlayText.classList.add('fading');

    setTimeout(function() {
      overlayText.style.display = 'none';
      overlayBg.style.display   = 'none';

      blockContainer.style.display = '';
      var grid = buildBlocks();
      blockContainer.offsetHeight;

      grid.blocks.forEach(function(block) {
        setTimeout(function() {
          block.el.style.transition = 'transform ' + BLOCK_DURATION + 'ms cubic-bezier(0.76, 0, 0.24, 1)';
          block.el.style.transform  = 'translateY(' + (grid.vh + grid.blockH) + 'px)';
        }, block.delay);
      });

      setTimeout(function() {
        blockContainer.style.display = 'none';
        document.body.style.overflow = '';
        safeInitPageAnimations();
      }, grid.maxDelay + BLOCK_DURATION + 100);
    }, 200);
  }, HOLD);
})();

/* ═══════════════════════════════════════════════════════ */
/* PAGE ANIMATIONS                                         */
/* ═══════════════════════════════════════════════════════ */
function initPageAnimations() {

/* Lenis smooth scroll */
var isMobileDevice = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
var lenis;
if (!isMobileDevice) {
  lenis = new Lenis({
    duration: 1.2,
    easing: function(t) { return Math.min(1, 1.001 - Math.pow(2, -10 * t)); },
    smoothWheel: true,
  });
  lenis.on('scroll', ScrollTrigger.update);
  gsap.ticker.add(function(time) { lenis.raf(time * 1000); });
  gsap.ticker.lagSmoothing(0);
  window.__lenis = lenis;
}

/* ═══════════════════════════════════════════════════════ */
/* HERO ENTRANCE                                           */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var header  = document.getElementById('header');
  var ticker  = document.getElementById('ticker-strip');
  var hero    = document.getElementById('hero');
  var video   = document.getElementById('heroVideo');
  var content = document.getElementById('heroContent');
  var h1      = document.getElementById('hero-h1');
  var eyebrow = content.querySelector('.eyebrow');
  var sub     = content.querySelector('.hero-sub');
  var ctas    = content.querySelector('.hero-ctas');
  var tickerItems = ticker.querySelectorAll(':scope > span');

  /* H1 animates in with the rest of the text */

  /* Load video */
  function loadVid() {
    var conn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
    var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    var slow = conn && (conn.saveData || conn.effectiveType === 'slow-2g' || conn.effectiveType === '2g' || conn.effectiveType === '3g');
    var weakSignal = conn && ((conn.downlink && conn.downlink < 2) || (conn.rtt && conn.rtt > 300));
    if (!slow && !weakSignal) {
      video.src = 'technology-hero.mp4';
      var playPromise = video.play();
      if (playPromise !== undefined) {
        playPromise.catch(function() {});
      }
    }
  }
  var isMobileDev = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
  if (isMobileDev) {
    setTimeout(loadVid, 300);
  } else if ('requestIdleCallback' in window) {
    requestIdleCallback(loadVid);
  } else {
    setTimeout(loadVid, 100);
  }

  var revealed = false;
  function reveal() {
    if (revealed) return;
    revealed = true;

    var tl = gsap.timeline({ delay: 0.2 });
    tl.to(header, { y: 0, duration: 0.6, ease: 'power2.out' });
    tl.to(ticker, { y: 0, opacity: 1, duration: 0.5, ease: 'power2.out' }, '-=0.3');
    tl.to(tickerItems, { opacity: 1, y: 0, duration: 0.4, ease: 'power2.out', stagger: 0.12 }, '-=0.2');
    tl.to(eyebrow, { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' }, '-=0.2');
    tl.to(h1, { opacity: 1, y: 0, duration: 0.7, ease: 'power2.out' }, '-=0.3');
    tl.to(sub, { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' }, '-=0.4');
    tl.to(ctas, { opacity: 1, y: 0, duration: 0.6, ease: 'power2.out' }, '-=0.4');
  }

  /* Show text immediately — don't wait for video */
  reveal();

  /* Fade video in when ready */
  video.addEventListener('playing', function() {
    video.classList.add('vid-ready');
  }, { once: true });

  /* iOS Low Power Mode: force-play on first user gesture */
  var gestures = ['touchstart', 'click', 'scroll'];
  function onGesture() {
    if (video.paused && video.src) video.play().catch(function() {});
    gestures.forEach(function(e) { document.removeEventListener(e, onGesture); });
  }
  gestures.forEach(function(e) {
    document.addEventListener(e, onGesture, { passive: true });
  });
})();

/* ═══════════════════════════════════════════════════════ */
/* HEADER COLOR TRANSITIONS ON SCROLL                      */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var header = document.getElementById('header');
  var ticker = document.getElementById('ticker-strip');
  var hero   = document.getElementById('hero');
  var processSection = document.querySelector('.process-section');
  var interactiveSection = document.querySelector('.interactive-section');
  var ctaSection = document.querySelector('.cta-section');
  var currentState = '';
  var isScrolled = false;

  function updateHeaderState() {
    var scrollY = window.scrollY;
    var headerH = header.offsetHeight + ticker.offsetHeight;
    var heroBottom = hero.offsetHeight;
    var processTop = processSection ? processSection.getBoundingClientRect().top + scrollY - headerH : Infinity;
    var processBottom = processSection ? processTop + processSection.offsetHeight : Infinity;
    var interactiveTop = interactiveSection ? interactiveSection.getBoundingClientRect().top + scrollY - headerH : Infinity;
    var interactiveBottom = interactiveSection ? interactiveTop + interactiveSection.offsetHeight : Infinity;
    var ctaTop = ctaSection ? ctaSection.getBoundingClientRect().top + scrollY - headerH : Infinity;

    var newState;
    if (scrollY < heroBottom - headerH) {
      newState = 'hero';
    } else if (scrollY >= processTop && scrollY < processBottom) {
      newState = 'cream';
    } else if (scrollY >= interactiveTop && scrollY < interactiveBottom) {
      newState = 'cream';
    } else if (scrollY >= ctaTop) {
      newState = 'dark';
    } else {
      newState = 'dark';
    }

    if (newState === currentState) return;
    currentState = newState;

    header.classList.remove('header-scrolled', 'header-cream');
    ticker.classList.remove('ticker-scrolled', 'ticker-cream');

    if (newState === 'hero') {
      /* transparent over video */
      if (isScrolled) {
        isScrolled = false;
        if (ticker) {
          gsap.to(ticker, { backgroundColor: 'transparent', duration: 0.4, ease: 'power2.out' });
        }
      }
    } else if (newState === 'cream') {
      header.classList.add('header-cream');
      ticker.classList.add('ticker-cream');
      if (isScrolled) {
        isScrolled = false;
        if (ticker) {
          gsap.to(ticker, { backgroundColor: 'transparent', duration: 0.4, ease: 'power2.out' });
        }
      }
    } else {
      header.classList.add('header-scrolled');
      if (!isScrolled) {
        isScrolled = true;
        if (ticker) {
          ticker.classList.add('ticker-scrolled');
          gsap.to(ticker, { backgroundColor: '#080706', duration: 0.4, ease: 'power2.out' });
        }
      } else {
        if (ticker) {
          ticker.classList.add('ticker-scrolled');
        }
      }
    }
  }

  ScrollTrigger.create({
    trigger: document.body,
    start: 'top top',
    end: 'bottom bottom',
    onUpdate: updateHeaderState
  });
  updateHeaderState();
})();

/* ═══════════════════════════════════════════════════════ */
/* HERO PARALLAX                                           */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var video = document.getElementById('heroVideo');
  gsap.to(video, {
    yPercent: 20,
    ease: 'none',
    scrollTrigger: {
      trigger: '#hero',
      start: 'top top',
      end: 'bottom top',
      scrub: true
    }
  });
})();

/* ═══════════════════════════════════════════════════════ */
/* PROCESS STEPS — SCROLL REVEAL                           */
/* ═══════════════════════════════════════════════════════ */
(function() {
  document.querySelectorAll('.process-step').forEach(function(step) {
    ScrollTrigger.create({
      trigger: step,
      start: 'top 75%',
      onEnter: function() { step.classList.add('step-visible'); },
      once: true
    });
  });

  /* Header word reveal */
  var processH2 = document.querySelector('.process-header h2');
  if (processH2) {
    var text = processH2.textContent;
    var words = text.split(' ');
    processH2.innerHTML = words.map(function(w) {
      return '<span class="word-reveal"><span>' + w + '</span></span>';
    }).join(' ');
    var spans = processH2.querySelectorAll('.word-reveal span');
    ScrollTrigger.create({
      trigger: processH2,
      start: 'top 80%',
      onEnter: function() {
        gsap.to(spans, { y: 0, duration: 0.9, ease: 'power3.out', stagger: 0.08 });
      },
      once: true
    });
  }

  /* Interactive section header word reveal */
  var interH2 = document.querySelector('.interactive-header h2');
  if (interH2) {
    var text2 = interH2.textContent;
    var words2 = text2.split(' ');
    interH2.innerHTML = words2.map(function(w) {
      return '<span class="word-reveal"><span>' + w + '</span></span>';
    }).join(' ');
    var spans2 = interH2.querySelectorAll('.word-reveal span');
    ScrollTrigger.create({
      trigger: interH2,
      start: 'top 80%',
      onEnter: function() {
        gsap.to(spans2, { y: 0, duration: 0.9, ease: 'power3.out', stagger: 0.08 });
      },
      once: true
    });
  }
})();

/* ═══════════════════════════════════════════════════════ */
/* MOBILE NAV                                              */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var hamburger = document.getElementById('hamburger');
  var overlay = document.getElementById('nav-overlay');
  var navItems = document.querySelectorAll('#nav-links > li > a, #nav-links > li > .nav-sub-trigger');
  var closeLinks = document.querySelectorAll('#nav-links a');
  var isOpen = false;

  var tl = gsap.timeline({ paused: true });
  tl.to(overlay, {
    clipPath: 'inset(0 0 0% 0)',
    duration: 0.6,
    ease: 'power4.inOut'
  })
  .to(navItems, {
    opacity: 1,
    x: 0,
    duration: 0.45,
    ease: 'power3.out',
    stagger: 0.05
  }, '-=0.25');

  hamburger.addEventListener('click', function() {
    isOpen = !isOpen;
    hamburger.classList.toggle('open', isOpen);
    if (isOpen) { if (lenis) lenis.stop(); tl.play(); }
    else { tl.reverse().then(function() { if (lenis) lenis.start(); }); }
  });

  closeLinks.forEach(function(link) {
    link.addEventListener('click', function() {
      if (isOpen) {
        isOpen = false;
        hamburger.classList.remove('open');
        tl.reverse().then(function() { if (lenis) lenis.start(); });
      }
    });
  });

  var subTrigger = document.getElementById('investorsTrigger');
  var subLinks = document.getElementById('investorsSubLinks');
  if (subTrigger && subLinks) {
    subTrigger.addEventListener('click', function() {
      subTrigger.classList.toggle('open');
      subLinks.classList.toggle('open');
    });
  }
})();

/* ═══════════════════════════════════════════════════════ */
/* ANCHOR SMOOTH SCROLL                                    */
/* ═══════════════════════════════════════════════════════ */
document.querySelectorAll('a[href^="#"]').forEach(function(a) {
  a.addEventListener('click', function(e) {
    var target = document.querySelector(a.getAttribute('href'));
    if (target) {
      e.preventDefault();
      lenis.scrollTo(target, { offset: -120 });
    }
  });
});

/* ═══════════════════════════════════════════════════════ */
/* CREATE HOTSPOT BUTTONS + BLUEPRINT SHAPES               */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var wrapper = document.getElementById('techScene');
  if (!wrapper) return;

  /* Feature shapes — blueprint building footprints beside each hotspot */
  var g = 'rgba(205,170,136,';  /* --gold base */
  var featureShapes = [
    /* Extraction — terraced pit benches */
    { target: 'extraction', left: '74%', top: '8%', w: '20%', h: '30%',
      svg: '<svg viewBox="0 0 100 100" fill="none">'
        + '<rect x="5" y="5" width="90" height="90" stroke="'+g+'0.7)" stroke-width="1.8" fill="'+g+'0.08)"/>'
        + '<rect x="15" y="15" width="70" height="70" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="25" y="25" width="50" height="50" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="35" y="35" width="30" height="30" stroke="'+g+'0.4)" stroke-width="1" fill="'+g+'0.06)"/>'
        + '<line x1="5" y1="5" x2="35" y2="35" stroke="'+g+'0.3)" stroke-width="0.8"/>'
        + '<line x1="95" y1="5" x2="65" y2="35" stroke="'+g+'0.3)" stroke-width="0.8"/>'
        + '<line x1="5" y1="95" x2="35" y2="65" stroke="'+g+'0.3)" stroke-width="0.8"/>'
        + '<line x1="95" y1="95" x2="65" y2="65" stroke="'+g+'0.3)" stroke-width="0.8"/>'
        + '</svg>' },
    /* Processing — plant hall with rooms */
    { target: 'processing', left: '48%', top: '34%', w: '18%', h: '24%',
      svg: '<svg viewBox="0 0 100 100" fill="none">'
        + '<rect x="5" y="10" width="90" height="80" stroke="'+g+'0.7)" stroke-width="1.8" fill="'+g+'0.08)"/>'
        + '<line x1="5" y1="45" x2="95" y2="45" stroke="'+g+'0.5)" stroke-width="1.2"/>'
        + '<line x1="50" y1="10" x2="50" y2="90" stroke="'+g+'0.5)" stroke-width="1.2"/>'
        + '<rect x="12" y="18" width="30" height="20" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="58" y="18" width="30" height="20" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="12" y="53" width="30" height="28" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="58" y="53" width="30" height="28" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '</svg>' },
    /* Tailings — containment cells */
    { target: 'tailings', left: '36%', top: '70%', w: '20%', h: '24%',
      svg: '<svg viewBox="0 0 100 100" fill="none">'
        + '<rect x="5" y="10" width="90" height="80" stroke="'+g+'0.7)" stroke-width="1.8" fill="'+g+'0.08)"/>'
        + '<rect x="5" y="10" width="45" height="40" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="50" y="10" width="45" height="40" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="5" y="50" width="45" height="40" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="50" y="50" width="45" height="40" stroke="'+g+'0.5)" stroke-width="1.2" fill="none"/>'
        + '<rect x="15" y="20" width="25" height="20" stroke="'+g+'0.35)" stroke-width="0.8" fill="'+g+'0.05)"/>'
        + '<rect x="60" y="20" width="25" height="20" stroke="'+g+'0.35)" stroke-width="0.8" fill="'+g+'0.05)"/>'
        + '</svg>' },
    /* Power — generator building + transformer yard */
    { target: 'power', left: '4%', top: '24%', w: '16%', h: '22%',
      svg: '<svg viewBox="0 0 100 100" fill="none">'
        + '<rect x="5" y="5" width="55" height="90" stroke="'+g+'0.7)" stroke-width="1.8" fill="'+g+'0.08)"/>'
        + '<rect x="65" y="25" width="30" height="50" stroke="'+g+'0.7)" stroke-width="1.8" fill="'+g+'0.08)"/>'
        + '<line x1="60" y1="45" x2="65" y2="45" stroke="'+g+'0.6)" stroke-width="1.5"/>'
        + '<line x1="60" y1="55" x2="65" y2="55" stroke="'+g+'0.6)" stroke-width="1.5"/>'
        + '<rect x="12" y="15" width="40" height="30" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="12" y="55" width="40" height="30" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="70" y="32" width="20" height="14" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '<rect x="70" y="54" width="20" height="14" stroke="'+g+'0.4)" stroke-width="1" fill="none"/>'
        + '</svg>' }
  ];

  featureShapes.forEach(function(f) {
    var el = document.createElement('div');
    el.className = 'map-feature';
    el.dataset.target = f.target;
    el.style.left = f.left;
    el.style.top = f.top;
    el.style.width = f.w;
    el.style.height = f.h;
    el.innerHTML = f.svg;
    wrapper.appendChild(el);
  });

  /* Add hotspot buttons — positioned on topo map features */
  var hotspotData = [
    { target: 'extraction', left: '68%', top: '22%', label: 'Extraction', icon: '<svg viewBox="0 0 24 24"><path d="M12 2L2 22h20L12 2zm0 4l7 14H5l7-14z"/></svg>' },
    { target: 'processing', left: '40%', top: '45%', label: 'Processing', icon: '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 1v4m0 14v4m-9-11h4m14 0h4m-3.3-6.7l-2.8 2.8m-9.8 9.8l-2.8 2.8m0-15.4l2.8 2.8m9.8 9.8l2.8 2.8"/></svg>' },
    { target: 'tailings', left: '28%', top: '78%', label: 'Tailings', icon: '<svg viewBox="0 0 24 24"><path d="M3 17h18v2H3v-2zm0-5h18v2H3v-2zm0-5h18v2H3V7z"/></svg>' },
    { target: 'power', left: '18%', top: '18%', label: 'Power', icon: '<svg viewBox="0 0 24 24"><path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z"/></svg>' }
  ];

  hotspotData.forEach(function(h) {
    var btn = document.createElement('button');
    btn.className = 'hotspot';
    btn.dataset.target = h.target;
    btn.style.left = h.left;
    btn.style.top = h.top;
    btn.innerHTML = h.icon + '<span class="hotspot-label">' + h.label + '</span>';
    wrapper.appendChild(btn);
  });
})();

/* ═══════════════════════════════════════════════════════ */
/* HOTSPOT INTERACTIONS                                    */
/* ═══════════════════════════════════════════════════════ */
(function() {
  var hotspots = document.querySelectorAll('.hotspot');
  var tabs = document.querySelectorAll('.tech-tab');
  var panels = document.querySelectorAll('.info-panel');
  var infoCol = document.querySelector('.tech-info-col');
  var activeTarget = null;

  /* Add close buttons to non-default panels (for mobile popup) */
  panels.forEach(function(p) {
    if (p.id !== 'panel-default') {
      var closeBtn = document.createElement('button');
      closeBtn.className = 'popup-close';
      closeBtn.innerHTML = '\u00d7';
      closeBtn.setAttribute('aria-label', 'Close');
      closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        deactivateAll();
      });
      p.appendChild(closeBtn);
    }
  });

  function isMobile() { return window.innerWidth <= 768; }

  function activate(target) {
    if (activeTarget === target) {
      deactivateAll();
      return;
    }
    activeTarget = target;

    hotspots.forEach(function(h) {
      h.classList.toggle('active', h.dataset.target === target);
    });
    document.querySelectorAll('.map-feature').forEach(function(f) {
      f.classList.toggle('active', f.dataset.target === target);
    });
    tabs.forEach(function(t) {
      t.classList.toggle('active', t.dataset.target === target);
    });
    panels.forEach(function(p) {
      var id = p.id.replace('panel-', '');
      p.dataset.state = (id === target) ? 'visible' : 'hidden';
    });

    /* Show popup overlay on mobile */
    if (isMobile() && infoCol) {
      infoCol.classList.add('popup-active');
    }
  }

  function deactivateAll() {
    activeTarget = null;
    hotspots.forEach(function(h) { h.classList.remove('active'); });
    document.querySelectorAll('.map-feature').forEach(function(f) { f.classList.remove('active'); });
    tabs.forEach(function(t) { t.classList.remove('active'); });
    panels.forEach(function(p) {
      p.dataset.state = (p.id === 'panel-default') ? 'visible' : 'hidden';
    });

    /* Hide popup overlay on mobile */
    if (infoCol) {
      infoCol.classList.remove('popup-active');
    }
  }

  hotspots.forEach(function(h) {
    h.addEventListener('click', function(e) {
      e.stopPropagation();
      activate(h.dataset.target);
    });
  });
  tabs.forEach(function(t) {
    t.addEventListener('click', function(e) {
      e.stopPropagation();
      activate(t.dataset.target);
    });
  });

  /* Close popup when tapping backdrop on mobile */
  if (infoCol) {
    infoCol.addEventListener('click', function(e) {
      if (e.target === infoCol && isMobile()) {
        deactivateAll();
      }
    });
  }

  document.addEventListener('click', function(e) {
    if (!e.target.closest('.hotspot') && !e.target.closest('.tech-tab') && !e.target.closest('.info-panel')) {
      deactivateAll();
    }
  });
})();

} /* end initPageAnimations */
</script>
</body>
</html>
